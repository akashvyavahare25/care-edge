<div class="card col-md-12">
  <div class="row mt-2">
    <div class="col-md-10">
      <div class="text-grey-6 py-2 px-2">
        <strong>Rating Model</strong>
      </div>
    </div>
    <div class="col-md-2 text-right padding-right30">
      <p-button (click)="showDialog()" label="Add Tab"></p-button>
    </div>
  </div>
  <div class="card card-container col-md-12 mt-2">
    <p-treeTable
      [value]="files"
      [scrollable]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
        <tr [ttRow]="rowNode">
          <td>
            <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
            {{ rowData.name }}
          </td>
          <td style="display: flex; justify-content: right">
            <i
              class="pi pi-link"
              [style]="{ 'margin-right': '.8em' }"
              (click)="dependantCompoentClick(rowData)"
            ></i>
            <i
              class="pi"
              [ngClass]="{
                'pi-eye': rowData.hide,
                'pi-eye-slash': !rowData.hide
              }"
              [style]="{ 'margin-right': '.8em' }"
              (click)="toggleEyeIcon(rowNode, rowData)"
            ></i>
            <i
              class="pi pi-pencil"
              [style]="{ 'margin-right': '.8em' }"
              (click)="editTab(rowData, rowNode)"
            ></i>
            <i
              class="pi pi-copy"
              [style]="{ 'margin-right': '.8em' }"
              (click)="copyTab(rowNode, rowData)"
            ></i>
            <i
              class="pi pi-plus-circle"
              [style]="{ 'margin-right': '.8em' }"
              (click)="AddContainer(rowNode)"
            ></i>
            <i
              class="pi pi-trash"
              [style]="{ 'margin-right': '.8em' }"
              (click)="deletTab(rowNode, rowData)"
            ></i>
          </td>
        </tr>
      </ng-template>
    </p-treeTable>
  </div>

  <div class="col-md-12 dry-run mt-2">
    <p-button
      (click)="showTabs()"
      class="float-right"
      label="Dry Run"
    ></p-button>
    <p-button
      (click)="SubmitTabs()"
      class="float-right"
      label="Submit"
      [style]="{ 'margin-left': '.8em' }"
    ></p-button>
  </div>
</div>

<p-dialog header="Header" [(visible)]="visible" [style]="{ width: '50vw' }">
  <ng-template pTemplate="header">
    <strong class="text-xl font-bold">{{ tabTitle }}</strong>
  </ng-template>
  <div style="margin: 5px; margin-top: 20px">
    <span class="p-float-label">
      <input type="text" pInputText [(ngModel)]="tabName" />
      <label htmlFor="username">Enter Tab Name</label>
    </span>
  </div>
  <ng-template pTemplate="footer">
    <p-button
      (click)="saveTabs()"
      label="save"
      styleClass="p-button-text"
    ></p-button>
  </ng-template>
</p-dialog>

<p-dialog
  header="Header"
  [(visible)]="componentVisible"
  [style]="{ width: '50vw' }"
>
  <ng-template pTemplate="header">
    <strong class="text-xl font-bold">Dependent Component</strong>
  </ng-template>
  <div class="col-md-12">
    <div class="row" style="margin-top: 20px">
      <div class="col-md-6">
        <span class="p-float-label">
          <!-- [(ngModel)]="component" -->
          <p-dropdown
            placeholder="Select Component"
            optionLabel="name"
            inputId="float-label"
          ></p-dropdown>
          <label for="float-label">Select Component</label>
        </span>
      </div>
      <div class="col-md-6">
        <span class="p-float-label">
          <!-- [(ngModel)]="dependentComponent" -->
          <p-dropdown
            placeholder="Dependent Value"
            optionLabel="name"
            inputId="float-label"
          ></p-dropdown>
          <label for="float-label">Dependent Value</label>
        </span>
      </div>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <p-button
      (click)="saveComponents()"
      label="save"
      styleClass="p-button-text"
    ></p-button>
  </ng-template>
</p-dialog>

<p-dialog
  header="Header"
  [(visible)]="containerVisible"
  [style]="{ width: '50vw' }"
>
  <ng-template pTemplate="header">
    <strong class="text-xl font-bold">Add Container</strong>
    <!-- <label><input type="radio" [(ngModel)]="selectedOption" value="container" (click)="showcontaineronclick()" > Add Container </label>
    <label><input type="radio" [(ngModel)]="selectedOption" value="table" (click)="showTableonclick()" > Table</label> -->
  </ng-template>
  <div style="margin: 5px">
    <div class="radio-button-container">
      <div class="radio-button-item">
        <p-radioButton
          name="pizza"
          value="container"
          [(ngModel)]="containerValue"
          inputId="ingredient1"
        ></p-radioButton>
        <label for="ingredient1" style="margin-left: 5px">Container</label>

        <p-radioButton
          name="pizza"
          value="table"
          [(ngModel)]="containerValue"
          inputId="ingredient2"
          [style]="{ 'margin-left': '30px' }"
        ></p-radioButton>
        <label for="ingredient2" style="margin-left: 10px">Table</label>
      </div>
    </div>
    <span *ngIf="containerValue === 'container'" class="p-float-label mt-4">
      <input type="text" pInputText [(ngModel)]="containerName" />
      <label htmlFor="username">Title</label>
    </span>
  </div>
  <div *ngIf="containerValue === 'table'">
    <span class="p-float-label mt-4">
      <input type="text" pInputText [(ngModel)]="tableName" />
      <label htmlFor="username">Title</label>
    </span>
    <span class="p-float-label mt-4">
      <input
        type="number"
        pInputText
        [(ngModel)]="Noofcolumns"
        (ngModelChange)="onChangecolumn($event)"
      />
      <label htmlFor="username">No of columns</label>
    </span>
    <span>
      <label [style]="{ margin: '10px' }"> Select Columns to merged</label>
      <div class="column-class">
        <table>
          <thead>
            <tr>
              <th *ngFor="let column of dynamicColumns">
                <!-- <input
                  type="text"
                  pInputText
                  [style]="{ 'margin-left': '10px' }"
                /> -->
                <div>
                  <label>
                    <input type="checkbox" *ngIf="IsMerge" />
                    <input type="text" />
                  </label>
                </div>
              </th>
            </tr>
          </thead>
        </table>
      </div>
    </span>
    <span style="margin-top: 10px">
      <p-button
        (click)="mergecolumn()"
        label="Merge Columns"
        styleClass="p-button-text"
        [style]="{ 'margin-top': '10px', 'background-color':'#0d89ec','color':'white' }"
      ></p-button>
    </span>
    <span>
      <div class="radio-button-container">
        <div class="radio-button-item">
          <input
            type="checkbox"
            name="pizza"
            value="Score"
            [(ngModel)]="scoreValue"
            inputId="ingredient1"
            [style]="{'margin-left':'10px'}"
            ><label htmlFor="username" style="margin-left: 10px;">Score</label>
          

          <input
            type="checkbox"
            name="pizza"
            value="Factor"
            [(ngModel)]="factorValue"
            inputId="ingredient2"
            [style]="{'margin-left':'10px'}"
            ><label htmlFor="username" style="margin-left: 10px;">Factor</label>

          <input
            type="checkbox"
            name="pizza"
            value="Total"
            [(ngModel)]="totalValue"
            inputId="ingredient3"
            [style]="{'margin-left':'10px'}"
            ><label htmlFor="username" style="margin-left: 10px;">Total</label>
        </div>
      </div>
    </span>
  </div>
  <ng-template pTemplate="footer">
    <p-button
      (click)="saveContainer()"
      label="save"
      styleClass="p-button-te
      xt"
    ></p-button>
  </ng-template>
</p-dialog>
